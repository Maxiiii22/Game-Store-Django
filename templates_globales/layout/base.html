{% load static %} <!-- Cargamos la carpeta static que contiene el script.js y el css-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/media/icono-game-store.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Ancizar+Sans:ital,wght@0,100..1000;1,100..1000&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'estilos/global_styles.css' %}">
    {% block css %}  {% endblock %}

    {% block titulo %} {% endblock %}
</head>
<body >
    <div id="top"></div>
    <header class="header">
        <div class="container-header">
            <div class="container-logo">
                <div class="logo">
                    <a href="{% url 'inicio' %}"><img src="/media/logo-game-store.png" alt="Logo Game Store"></a>
                </div>
            </div>
            
            <div class="contenedor-busqueda">
                <div class="box-input-busqueda">
                    <form id="form-busqueda" method="GET" action="{% url 'busqueda'%}">
                        <input type="search" name="consulta" class="input-busqueda" placeholder="Estoy buscando..." maxlength="100" autocomplete="off" {% if consulta %} value="{{consulta}}" {% endif %}   >
                        <ul id="sugerencia"></ul>
                        <button type="submit" class="btn-busqueda">
                            <i class="fas fa-search" id="icon-busqueda"></i>
                        </button>
                    </form>
                </div>      
                
                <nav class="navbar" id="navbar">
                    <ul> 
                        <li><a href="{% url 'celulares' %}">Celulares</a></li>   
                        <li><a href="{% url 'consolas' %}">Consolas</a></li>   
                        <li><a href="{% url 'videojuegos' %}">Videojuegos</a></li>   
                        <li><a href="{% url 'relojes' %}">Relojes</a></li>   
                        <li><a href="{% url 'accesoriosPC' %}">Accesorios de PC</a></li>  
                        {% if user.is_authenticated %} 
                            <li id="responsiveWidget"><a href="{% url 'cuenta' %}"><i class="fas fa-user"></i> Mis datos</a></li> 
                            <li id="responsiveWidget"><a href="{% url 'misPedidos' %}"><i class="fas fa-clipboard-list"></i> Mis pedidos</a></li> 
                            <li id="responsiveWidget"><a href="{% url 'logout' %}"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li> 
                        {% else %}  
                            <li id="responsiveWidget"><a href="{% url 'login' %}"><i class="fas fa-sign-in-alt"></i> Iniciar sesión</a></li>   
                            <li id="responsiveWidget"><a href="{% url 'signup' %}"><i class="fas fa-user-plus"></i> Registrarse</a></li>   
                        {% endif %}
                    </ul>
                </nav>
            </div>
            
            <div class="contenedor-usuario {% if user.is_authenticated %} contenedor-usuario-autenticado {% endif%}">
                {% if not user.is_authenticated %}
                    <a href="{% url 'login' %}" class="navbar-btn" id="widget"><i class="fas fa-sign-in-alt"></i>  Iniciar sesión </a> 
                    <a href="{% url 'signup' %}" class="navbar-btn" id="widget"><i class="fas fa-user-plus"></i> Registrarse </a>
                {% else %}
                    <a href="{% url 'miCarrito' %}" class="btn_carrito"><i class="fas fa-shopping-cart"></i> <span id="carrito-count">{{carrito_count}}</span> </a>  <!-- carrito_count es ua variable global declarada en carrito/context_processors.py-->
                    <ul id="widget" >
                        <li class="btn-desplegable"><button class="navbar-btn navbar-btn-user" id="btn-miCuenta"> <i class="fas fa-user"></i> {{user.username}} </button> 
                            <ul class="btn-desplegable_items">
                                <li><a href="{% url 'cuenta' %}"> <i class="fas fa-user"></i> Mis datos </a> </li>
                                <li><a href="{% url 'misPedidos' %}"> <i class="fas fa-clipboard-list"></i> Mis pedidos </a> </li>
                                <li><a href="{% url 'logout' %}"> <i class="fas fa-sign-out-alt"></i> Cerrar Sesión </a></li>
                            </ul>
                        </li>
                    </ul>
                {% endif %}
            </div>

            <button class="icons" id="menu-toggle" aria-label="Abrir menú"> 
                <i class="fa fa-bars" id="open-icon"></i>
                <i class="fas fa-times" id="close-icon"></i>
            </button>
        </div>
        <div class="barra-noticias">
            <div class="contenido-barra-noticias">
                <p>¡Envío gratis en todas las compras!</p>
                <p>Paga de manera fácil y segura con Mercado Pago</p>
                <p>¡Compra con confianza! Todos nuestros productos tienen garantía oficial.</p>
            </div>
        </div>
    </header>

    <main>
    {% block contenido %}

    {% endblock %}
    </main>


    <footer class="footer">
        <ul class="social_medias">
            <li class="social_medias-item"> <a href="https://www.facebook.com/"> <i class="fab fa-facebook"></i> </a></li>
            <li class="social_medias-item"> <a href="https://www.instagram.com/"> <i class="fab fa-instagram"></i> </a></li>
            <li class="social_medias-item"> <a href="https://www.linkedin.com/"> <i class="fab fa-linkedin"></i></a></li>
            <li class="social_medias-item"> <a href="https://workspace.google.com/intl/es/gmail/"> <i class="fas fa-envelope"></i> </a></li>
        </ul>
        <ul class="menu-footer">
            <li class="menu-footer-item"><a href="#top">Subir</a></li>
            <li class="menu-footer-item"><a >Sobre Nosotros</a></li>
            <li class="menu-footer-item"><a >Términos y Condiciones</a></li>
        </ul>
        <p class="p-footer">&copy; 2025 Game Store. Todos los derechos reservados.</p>
    </footer>

    <script src="{% static 'js/scripts_main.js' %}"></script>
    {% block scripts_js %}  {% endblock %}
</body>
</html>